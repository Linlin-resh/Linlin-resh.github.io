{{ if not .IsHome }}
<aside class="sidebar">
  <div class="sidebar-content">
    <h3 class="sidebar-title">ç›®å½•</h3>
    
    <!-- æ–‡ç« ç›®å½• -->
    {{ if .IsPage }}
      {{ if .TableOfContents }}
        <div class="toc-sidebar">
          {{ .TableOfContents }}
        </div>
      {{ end }}
    {{ end }}
    
    <!-- å…¨å±€å¯¼èˆª -->
    <nav class="sidebar-nav">
      <h4>ç½‘ç«™å¯¼èˆª</h4>
      <ul>
        <li><a href="/">ğŸ  é¦–é¡µ</a></li>
        <li><a href="/posts/">ğŸ“ åšå®¢</a></li>
        <li><a href="/tags/">ğŸ·ï¸ æ ‡ç­¾</a></li>
        <li><a href="/about/">â„¹ï¸ å…³äº</a></li>
        <li><a href="/search/">ğŸ” æœç´¢</a></li>
      </ul>
      
      <h4>æ–‡ç« åˆ†ç±»</h4>
      <ul>
        <li><a href="/tags/reading-notes/">ğŸ“š é˜…è¯»ç¬”è®°</a></li>
        <li><a href="/tags/ideas/">ğŸ’¡ æƒ³æ³•æ€è€ƒ</a></li>
        <li><a href="/tags/research-progress/">ğŸ“Š ç ”ç©¶è¿›å±•</a></li>
        <li><a href="/tags/tools/">ğŸ› ï¸ å·¥å…·ä»£ç </a></li>
      </ul>
      
      <h4>çƒ­é—¨æ ‡ç­¾</h4>
      <div class="sidebar-tags">
        <a href="/tags/network-theory/" class="tag">ç½‘ç»œç†è®º</a>
        <a href="/tags/materials-science/" class="tag">ææ–™ç§‘å­¦</a>
        <a href="/tags/machine-learning/" class="tag">æœºå™¨å­¦ä¹ </a>
        <a href="/tags/graph-theory/" class="tag">å›¾è®º</a>
        <a href="/tags/nanowires/" class="tag">çº³ç±³çº¿</a>
      </div>
    </nav>
  </div>
</aside>
{{ end }}

<style>
.sidebar {
  position: fixed;
  left: 0;
  top: 0;
  width: 280px;
  height: 100vh;
  background: var(--entry-bg);
  border-right: 1px solid var(--border-color);
  overflow-y: auto;
  z-index: 100;
  padding: 20px;
  box-sizing: border-box;
}

.sidebar-content {
  padding-top: 60px; /* ä¸ºé¡¶éƒ¨å¯¼èˆªç•™å‡ºç©ºé—´ */
}

.sidebar-title {
  font-size: 1.2em;
  margin-bottom: 20px;
  color: var(--entry-title-color);
  border-bottom: 2px solid var(--accent-color);
  padding-bottom: 10px;
}

.sidebar-nav h4 {
  font-size: 1em;
  margin: 20px 0 10px 0;
  color: var(--entry-title-color);
}

.sidebar-nav ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.sidebar-nav li {
  margin: 8px 0;
}

.sidebar-nav a {
  color: var(--text-color);
  text-decoration: none;
  padding: 5px 0;
  display: block;
  transition: color 0.3s ease;
}

.sidebar-nav a:hover {
  color: var(--accent-color);
}

.sidebar-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: 10px;
}

.sidebar-tags .tag {
  background: var(--accent-color);
  color: var(--bg-color);
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 0.8em;
  text-decoration: none;
  transition: background-color 0.3s ease;
}

.sidebar-tags .tag:hover {
  background: var(--accent-color-hover);
}

.toc-sidebar {
  margin-bottom: 30px;
}

.toc-sidebar ul {
  list-style: none;
  padding-left: 15px;
}

.toc-sidebar li {
  margin: 5px 0;
}

.toc-sidebar a {
  color: var(--text-color);
  text-decoration: none;
  font-size: 0.9em;
  transition: color 0.3s ease;
}

.toc-sidebar a:hover {
  color: var(--accent-color);
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 1200px) {
  .sidebar {
    width: 250px;
  }
}

@media (max-width: 768px) {
  .sidebar {
    transform: translateX(-100%);
    transition: transform 0.3s ease;
  }
  
  .sidebar.open {
    transform: translateX(0);
  }
}

/* ä¸ºä¸»å†…å®¹åŒºåŸŸç•™å‡ºç©ºé—´ */
main {
  margin-left: 280px;
}

@media (max-width: 1200px) {
  main {
    margin-left: 250px;
  }
}

@media (max-width: 768px) {
  main {
    margin-left: 0;
  }
}
</style>
