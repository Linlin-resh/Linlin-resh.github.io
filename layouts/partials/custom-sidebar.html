<!-- è‡ªå®šä¹‰å·¦ä¾§ä¾§è¾¹æ  -->
<div class="custom-sidebar">
  <h3>ğŸ“š ç½‘ç«™ç›®å½•</h3>
  
  <!-- ç½‘ç«™å¯¼èˆª -->
  <h4>ğŸ  ä¸»è¦é¡µé¢</h4>
  <ul>
    <li><a href="/">é¦–é¡µ</a></li>
    <li><a href="/posts/">æ‰€æœ‰æ–‡ç« </a></li>
    <li><a href="/tags/">æ ‡ç­¾åˆ†ç±»</a></li>
    <li><a href="/about/">å…³äºæˆ‘</a></li>
    <li><a href="/search/">æœç´¢</a></li>
  </ul>
  
  <!-- æ–‡ç« åˆ†ç±» -->
  <h4>ğŸ“ æ–‡ç« åˆ†ç±»</h4>
  <ul>
    <li><a href="/tags/reading-notes/">ğŸ“– é˜…è¯»ç¬”è®°</a></li>
    <li><a href="/tags/ideas/">ğŸ’¡ æƒ³æ³•æ€è€ƒ</a></li>
    <li><a href="/tags/research-progress/">ğŸ“Š ç ”ç©¶è¿›å±•</a></li>
    <li><a href="/tags/tools/">ğŸ› ï¸ å·¥å…·ä»£ç </a></li>
  </ul>
  
  <!-- çƒ­é—¨æ ‡ç­¾ -->
  <h4>ğŸ·ï¸ çƒ­é—¨æ ‡ç­¾</h4>
  <div class="sidebar-tags">
    <a href="/tags/network-theory/" class="tag">ç½‘ç»œç†è®º</a>
    <a href="/tags/materials-science/" class="tag">ææ–™ç§‘å­¦</a>
    <a href="/tags/machine-learning/" class="tag">æœºå™¨å­¦ä¹ </a>
    <a href="/tags/graph-theory/" class="tag">å›¾è®º</a>
    <a href="/tags/nanowires/" class="tag">çº³ç±³çº¿</a>
  </div>
  
  <!-- æ–‡ç« ç›®å½• (å¦‚æœå½“å‰é¡µé¢æœ‰) -->
  {{ if .IsPage }}
    {{ if .TableOfContents }}
      <h4>ğŸ“– æ–‡ç« ç›®å½•</h4>
      <div class="toc-sidebar">
        {{ .TableOfContents }}
      </div>
    {{ end }}
  {{ end }}
</div>

<!-- ç§»åŠ¨ç«¯ä¾§è¾¹æ åˆ‡æ¢æŒ‰é’® -->
<button class="sidebar-toggle" onclick="toggleSidebar()" title="åˆ‡æ¢ä¾§è¾¹æ ">
  â˜°
</button>

<script>
// ä¾§è¾¹æ åˆ‡æ¢åŠŸèƒ½
function toggleSidebar() {
  const body = document.body;
  const sidebar = document.querySelector('.custom-sidebar');
  
  if (body.classList.contains('has-sidebar')) {
    body.classList.remove('has-sidebar');
    if (sidebar) {
      sidebar.style.transform = 'translateX(-100%)';
    }
  } else {
    body.classList.add('has-sidebar');
    if (sidebar) {
      sidebar.style.transform = 'translateX(0)';
    }
  }
}

// é¡µé¢åŠ è½½å®Œæˆåè‡ªåŠ¨æ·»åŠ ä¾§è¾¹æ 
document.addEventListener('DOMContentLoaded', function() {
  const body = document.body;
  body.classList.add('has-sidebar');
  
  // ç§»åŠ¨ç«¯ç‚¹å‡»å¤–éƒ¨åŒºåŸŸå…³é—­ä¾§è¾¹æ 
  document.addEventListener('click', function(event) {
    const sidebar = document.querySelector('.custom-sidebar');
    const sidebarToggle = document.querySelector('.sidebar-toggle');
    
    if (window.innerWidth <= 768) {
      if (sidebar && !sidebar.contains(event.target) && !sidebarToggle.contains(event.target)) {
        body.classList.remove('has-sidebar');
        sidebar.style.transform = 'translateX(-100%)';
      }
    }
  });
});
</script>
